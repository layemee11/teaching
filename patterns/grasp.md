---
layout: default
date: 0001-01-01
title: Общие шаблоны распределения ответственностей
---
# Общие шаблоны распределения ответственностей

## 1. Информационный эксперт (Information Expert)

Шаблон определяет базовый принцип распределения ответственностей:

> Ответственность должна быть назначена тому, кто владеет максимумом необходимой информации для исполнения — информационному эксперту.

Локализация же ответственностей, проводимая согласно шаблону:
- Повышает:
  - Инкапсуляцию;
  - Простоту восприятия;
  - Готовность компонентов к повторному использованию;
- Снижает:
  - Степень взаимозависимости (зацепления).

## 2. Создатель (Creator)

Класс должен создавать экземпляры тех классов, которые он может:
- Содержать или агрегировать;
- Записывать;
- Использовать;
- Инициализировать, имея нужные данные.

Так применяется шаблон «Информационный эксперт» (смотрите пункт №1) в вопросах создания объектов.

Альтернатива — шаблон «Фабрика» (создание объектов концентрируется в отдельном классе).

## 3. Контроллер (Controller)

Отвечает за операции, запросы на которые приходят от пользователя, и может выполнять сценарии одного или нескольких вариантов использования (например, создание и удаление);

Не выполняет работу самостоятельно, а делегирует компетентным исполнителям;

Может представлять собой:
- Систему в целом;
- Подсистему;
- Корневой объект;
- Устройство.

## 4. Слабое зацепление (Low Coupling)

«Степень зацепления» — мера неотрывности элемента от других элементов (либо мера данных, имеющихся у него о них).

«Слабое» зацепление является оценочной моделью, которая диктует, как распределить обязанности, которые необходимо поддерживать.

«Слабое» зацепление — распределение ответственностей и данных, обеспечивающее взаимную независимость классов. Класс со «слабым» зацеплением:
- Имеет слабую зависимость от других классов;
- Не зависит от внешних изменений (изменение в одном классе оказывает слабое влияние на другие классы);
- Прост для повторного использования.

## 5. Высокая связность (High Cohesion)

**Связность класса** — это оценочная модель, направленная на удержание объектов должным образом сфокусированными, управляемыми и понятными. Высокая связанность обычно используется для поддержания низкого зацепления. Высокая связанность означает, что обязанности данного элемента тесно связаны и сфокусированы. Разбиение программ на классы и подсистемы является примером деятельности, которая увеличивает связанность системы.

И наоборот, низкая связанность — это ситуация, при которой данный элемент имеет слишком много несвязанных обязанностей. Элементы с низкой связанностью часто страдают от того, что их трудно понять, трудно использовать, трудно поддерживать.

**Связность класса** — мера сфокусированности предметных областей его методов:
- **«Высокая»** связность — сфокусированные подсистемы (предметная область определена, управляема и понятна);
- **«Низкая»** связность — абстрактные подсистемы. Затруднены:
  - Восприятие;
  - Повторное использование;
  - Поддержка;
  - Устойчивость к внешним изменениям.

## 6. Полиморфизм (Polymorphism)

Устройство и поведение системы:
- Определяется данными;
- Задано полиморфными операциями её интерфейса.

Пример: Адаптация коммерческой системы к многообразию систем учёта налогов может быть обеспечена через внешний интерфейс объектов-адаптеров (смотрите также: Шаблон «[Адаптеры](https://ru.wikipedia.org/wiki/%D0%90%D0%B4%D0%B0%D0%BF%D1%82%D0%B5%D1%80_(%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F))»).

## 7. Чистая выдумка (Pure Fabrication)

Не относится к предметной области, но:
- Уменьшает зацепление;
- Повышает связность;
- Упрощает повторное использование.

«Pure Fabrication» отражает концепцию сервисов в модели проблемно-ориентированного проектирования.

**Пример задачи**: Не используя средства класса «А», внести его объекты в базу данных.

**Решение**: Создать класс «Б» для записи объектов класса «А» (смотрите также: «Data Access Object»).

## 8. Посредник (Indirection)

Слабая связность между элементами системы (и возможность повторного использования) обеспечивается назначением промежуточного объекта их посредником.
Пример: В архитектуре Model-View-Controller, контроллер (англ. controller) ослабляет связность данных (англ. model) с их представлением (англ. view).

## 9. Устойчивость к изменениям (Protected Variations)

Шаблон защищает элементы от изменения другими элементами (объектами или подсистемами) с помощью вынесения взаимодействия в фиксированный интерфейс, через который (и только через который) возможно взаимодействие между элементами. Поведение может варьироваться лишь через создание другой реализации интерфейса.
